// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package guardduty

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-aws/sdk/v6/go/aws/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumix"
)

// Manages the GuardDuty Organization Configuration in the current AWS Region. The AWS account utilizing this resource must have been assigned as a delegated Organization administrator account, e.g., via the `guardduty.OrganizationAdminAccount` resource. More information about Organizations support in GuardDuty can be found in the [GuardDuty User Guide](https://docs.aws.amazon.com/guardduty/latest/ug/guardduty_organizations.html).
//
// > **NOTE:** This is an advanced resource. The provider will automatically assume management of the GuardDuty Organization Configuration without import and perform no actions on removal from the resource configuration.
type OrganizationConfiguration struct {
	pulumi.CustomResourceState

	// *Deprecated:* Use `autoEnableOrganizationMembers` instead. When this setting is enabled, all new accounts that are created in, or added to, the organization are added as a member accounts of the organization’s GuardDuty delegated administrator and GuardDuty is enabled in that AWS Region.
	//
	// Deprecated: Use auto_enable_organization_members instead
	AutoEnable pulumix.Output[bool] `pulumi:"autoEnable"`
	// Indicates the auto-enablement configuration of GuardDuty for the member accounts in the organization. Valid values are `ALL`, `NEW`, `NONE`.
	AutoEnableOrganizationMembers pulumix.Output[string] `pulumi:"autoEnableOrganizationMembers"`
	// Configuration for the collected datasources.
	Datasources pulumix.GPtrOutput[OrganizationConfigurationDatasources, OrganizationConfigurationDatasourcesOutput] `pulumi:"datasources"`
	// The detector ID of the GuardDuty account.
	DetectorId pulumix.Output[string] `pulumi:"detectorId"`
}

// NewOrganizationConfiguration registers a new resource with the given unique name, arguments, and options.
func NewOrganizationConfiguration(ctx *pulumi.Context,
	name string, args *OrganizationConfigurationArgs, opts ...pulumi.ResourceOption) (*OrganizationConfiguration, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.DetectorId == nil {
		return nil, errors.New("invalid value for required argument 'DetectorId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource OrganizationConfiguration
	err := ctx.RegisterResource("aws:guardduty/organizationConfiguration:OrganizationConfiguration", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetOrganizationConfiguration gets an existing OrganizationConfiguration resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetOrganizationConfiguration(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *OrganizationConfigurationState, opts ...pulumi.ResourceOption) (*OrganizationConfiguration, error) {
	var resource OrganizationConfiguration
	err := ctx.ReadResource("aws:guardduty/organizationConfiguration:OrganizationConfiguration", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering OrganizationConfiguration resources.
type organizationConfigurationState struct {
	// *Deprecated:* Use `autoEnableOrganizationMembers` instead. When this setting is enabled, all new accounts that are created in, or added to, the organization are added as a member accounts of the organization’s GuardDuty delegated administrator and GuardDuty is enabled in that AWS Region.
	//
	// Deprecated: Use auto_enable_organization_members instead
	AutoEnable *bool `pulumi:"autoEnable"`
	// Indicates the auto-enablement configuration of GuardDuty for the member accounts in the organization. Valid values are `ALL`, `NEW`, `NONE`.
	AutoEnableOrganizationMembers *string `pulumi:"autoEnableOrganizationMembers"`
	// Configuration for the collected datasources.
	Datasources *OrganizationConfigurationDatasources `pulumi:"datasources"`
	// The detector ID of the GuardDuty account.
	DetectorId *string `pulumi:"detectorId"`
}

type OrganizationConfigurationState struct {
	// *Deprecated:* Use `autoEnableOrganizationMembers` instead. When this setting is enabled, all new accounts that are created in, or added to, the organization are added as a member accounts of the organization’s GuardDuty delegated administrator and GuardDuty is enabled in that AWS Region.
	//
	// Deprecated: Use auto_enable_organization_members instead
	AutoEnable pulumix.Input[*bool]
	// Indicates the auto-enablement configuration of GuardDuty for the member accounts in the organization. Valid values are `ALL`, `NEW`, `NONE`.
	AutoEnableOrganizationMembers pulumix.Input[*string]
	// Configuration for the collected datasources.
	Datasources pulumix.Input[*OrganizationConfigurationDatasourcesArgs]
	// The detector ID of the GuardDuty account.
	DetectorId pulumix.Input[*string]
}

func (OrganizationConfigurationState) ElementType() reflect.Type {
	return reflect.TypeOf((*organizationConfigurationState)(nil)).Elem()
}

type organizationConfigurationArgs struct {
	// *Deprecated:* Use `autoEnableOrganizationMembers` instead. When this setting is enabled, all new accounts that are created in, or added to, the organization are added as a member accounts of the organization’s GuardDuty delegated administrator and GuardDuty is enabled in that AWS Region.
	//
	// Deprecated: Use auto_enable_organization_members instead
	AutoEnable *bool `pulumi:"autoEnable"`
	// Indicates the auto-enablement configuration of GuardDuty for the member accounts in the organization. Valid values are `ALL`, `NEW`, `NONE`.
	AutoEnableOrganizationMembers *string `pulumi:"autoEnableOrganizationMembers"`
	// Configuration for the collected datasources.
	Datasources *OrganizationConfigurationDatasources `pulumi:"datasources"`
	// The detector ID of the GuardDuty account.
	DetectorId string `pulumi:"detectorId"`
}

// The set of arguments for constructing a OrganizationConfiguration resource.
type OrganizationConfigurationArgs struct {
	// *Deprecated:* Use `autoEnableOrganizationMembers` instead. When this setting is enabled, all new accounts that are created in, or added to, the organization are added as a member accounts of the organization’s GuardDuty delegated administrator and GuardDuty is enabled in that AWS Region.
	//
	// Deprecated: Use auto_enable_organization_members instead
	AutoEnable pulumix.Input[*bool]
	// Indicates the auto-enablement configuration of GuardDuty for the member accounts in the organization. Valid values are `ALL`, `NEW`, `NONE`.
	AutoEnableOrganizationMembers pulumix.Input[*string]
	// Configuration for the collected datasources.
	Datasources pulumix.Input[*OrganizationConfigurationDatasourcesArgs]
	// The detector ID of the GuardDuty account.
	DetectorId pulumix.Input[string]
}

func (OrganizationConfigurationArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*organizationConfigurationArgs)(nil)).Elem()
}

type OrganizationConfigurationOutput struct{ *pulumi.OutputState }

func (OrganizationConfigurationOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*OrganizationConfiguration)(nil)).Elem()
}

func (o OrganizationConfigurationOutput) ToOrganizationConfigurationOutput() OrganizationConfigurationOutput {
	return o
}

func (o OrganizationConfigurationOutput) ToOrganizationConfigurationOutputWithContext(ctx context.Context) OrganizationConfigurationOutput {
	return o
}

func (o OrganizationConfigurationOutput) ToOutput(ctx context.Context) pulumix.Output[OrganizationConfiguration] {
	return pulumix.Output[OrganizationConfiguration]{
		OutputState: o.OutputState,
	}
}

// *Deprecated:* Use `autoEnableOrganizationMembers` instead. When this setting is enabled, all new accounts that are created in, or added to, the organization are added as a member accounts of the organization’s GuardDuty delegated administrator and GuardDuty is enabled in that AWS Region.
//
// Deprecated: Use auto_enable_organization_members instead
func (o OrganizationConfigurationOutput) AutoEnable() pulumix.Output[bool] {
	value := pulumix.Apply[OrganizationConfiguration](o, func(v OrganizationConfiguration) pulumix.Output[bool] { return v.AutoEnable })
	return pulumix.Flatten[bool, pulumix.Output[bool]](value)
}

// Indicates the auto-enablement configuration of GuardDuty for the member accounts in the organization. Valid values are `ALL`, `NEW`, `NONE`.
func (o OrganizationConfigurationOutput) AutoEnableOrganizationMembers() pulumix.Output[string] {
	value := pulumix.Apply[OrganizationConfiguration](o, func(v OrganizationConfiguration) pulumix.Output[string] { return v.AutoEnableOrganizationMembers })
	return pulumix.Flatten[string, pulumix.Output[string]](value)
}

// Configuration for the collected datasources.
func (o OrganizationConfigurationOutput) Datasources() pulumix.GPtrOutput[OrganizationConfigurationDatasources, OrganizationConfigurationDatasourcesOutput] {
	value := pulumix.Apply[OrganizationConfiguration](o, func(v OrganizationConfiguration) pulumix.GPtrOutput[OrganizationConfigurationDatasources, OrganizationConfigurationDatasourcesOutput] {
		return v.Datasources
	})
	unwrapped := pulumix.Flatten[*OrganizationConfigurationDatasources, pulumix.GPtrOutput[OrganizationConfigurationDatasources, OrganizationConfigurationDatasourcesOutput]](value)
	return pulumix.GPtrOutput[OrganizationConfigurationDatasources, OrganizationConfigurationDatasourcesOutput]{OutputState: unwrapped.OutputState}
}

// The detector ID of the GuardDuty account.
func (o OrganizationConfigurationOutput) DetectorId() pulumix.Output[string] {
	value := pulumix.Apply[OrganizationConfiguration](o, func(v OrganizationConfiguration) pulumix.Output[string] { return v.DetectorId })
	return pulumix.Flatten[string, pulumix.Output[string]](value)
}

func init() {
	pulumi.RegisterOutputType(OrganizationConfigurationOutput{})
}
