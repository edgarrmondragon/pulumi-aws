// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package iam

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-aws/sdk/v6/go/aws/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumix"
)

// Manages an IAM User Login Profile with limited support for password creation during this provider resource creation. Uses PGP to encrypt the password for safe transport to the user. PGP keys can be obtained from Keybase.
//
// > To reset an IAM User login password via this provider, you can use delete and recreate this resource or change any of the arguments.
type UserLoginProfile struct {
	pulumi.CustomResourceState

	// The encrypted password, base64 encoded. Only available if password was handled on resource creation, not import.
	EncryptedPassword pulumix.Output[string] `pulumi:"encryptedPassword"`
	// The fingerprint of the PGP key used to encrypt the password. Only available if password was handled on this provider resource creation, not import.
	KeyFingerprint pulumix.Output[string] `pulumi:"keyFingerprint"`
	// The plain text password, only available when `pgpKey` is not provided.
	Password pulumix.Output[string] `pulumi:"password"`
	// The length of the generated password on resource creation. Only applies on resource creation. Drift detection is not possible with this argument. Default value is `20`.
	PasswordLength pulumix.Output[*int] `pulumi:"passwordLength"`
	// Whether the user should be forced to reset the generated password on resource creation. Only applies on resource creation.
	PasswordResetRequired pulumix.Output[bool] `pulumi:"passwordResetRequired"`
	// Either a base-64 encoded PGP public key, or a keybase username in the form `keybase:username`. Only applies on resource creation. Drift detection is not possible with this argument.
	PgpKey pulumix.Output[*string] `pulumi:"pgpKey"`
	// The IAM user's name.
	User pulumix.Output[string] `pulumi:"user"`
}

// NewUserLoginProfile registers a new resource with the given unique name, arguments, and options.
func NewUserLoginProfile(ctx *pulumi.Context,
	name string, args *UserLoginProfileArgs, opts ...pulumi.ResourceOption) (*UserLoginProfile, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.User == nil {
		return nil, errors.New("invalid value for required argument 'User'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource UserLoginProfile
	err := ctx.RegisterResource("aws:iam/userLoginProfile:UserLoginProfile", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetUserLoginProfile gets an existing UserLoginProfile resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetUserLoginProfile(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *UserLoginProfileState, opts ...pulumi.ResourceOption) (*UserLoginProfile, error) {
	var resource UserLoginProfile
	err := ctx.ReadResource("aws:iam/userLoginProfile:UserLoginProfile", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering UserLoginProfile resources.
type userLoginProfileState struct {
	// The encrypted password, base64 encoded. Only available if password was handled on resource creation, not import.
	EncryptedPassword *string `pulumi:"encryptedPassword"`
	// The fingerprint of the PGP key used to encrypt the password. Only available if password was handled on this provider resource creation, not import.
	KeyFingerprint *string `pulumi:"keyFingerprint"`
	// The plain text password, only available when `pgpKey` is not provided.
	Password *string `pulumi:"password"`
	// The length of the generated password on resource creation. Only applies on resource creation. Drift detection is not possible with this argument. Default value is `20`.
	PasswordLength *int `pulumi:"passwordLength"`
	// Whether the user should be forced to reset the generated password on resource creation. Only applies on resource creation.
	PasswordResetRequired *bool `pulumi:"passwordResetRequired"`
	// Either a base-64 encoded PGP public key, or a keybase username in the form `keybase:username`. Only applies on resource creation. Drift detection is not possible with this argument.
	PgpKey *string `pulumi:"pgpKey"`
	// The IAM user's name.
	User *string `pulumi:"user"`
}

type UserLoginProfileState struct {
	// The encrypted password, base64 encoded. Only available if password was handled on resource creation, not import.
	EncryptedPassword pulumix.Input[*string]
	// The fingerprint of the PGP key used to encrypt the password. Only available if password was handled on this provider resource creation, not import.
	KeyFingerprint pulumix.Input[*string]
	// The plain text password, only available when `pgpKey` is not provided.
	Password pulumix.Input[*string]
	// The length of the generated password on resource creation. Only applies on resource creation. Drift detection is not possible with this argument. Default value is `20`.
	PasswordLength pulumix.Input[*int]
	// Whether the user should be forced to reset the generated password on resource creation. Only applies on resource creation.
	PasswordResetRequired pulumix.Input[*bool]
	// Either a base-64 encoded PGP public key, or a keybase username in the form `keybase:username`. Only applies on resource creation. Drift detection is not possible with this argument.
	PgpKey pulumix.Input[*string]
	// The IAM user's name.
	User pulumix.Input[*string]
}

func (UserLoginProfileState) ElementType() reflect.Type {
	return reflect.TypeOf((*userLoginProfileState)(nil)).Elem()
}

type userLoginProfileArgs struct {
	// The length of the generated password on resource creation. Only applies on resource creation. Drift detection is not possible with this argument. Default value is `20`.
	PasswordLength *int `pulumi:"passwordLength"`
	// Whether the user should be forced to reset the generated password on resource creation. Only applies on resource creation.
	PasswordResetRequired *bool `pulumi:"passwordResetRequired"`
	// Either a base-64 encoded PGP public key, or a keybase username in the form `keybase:username`. Only applies on resource creation. Drift detection is not possible with this argument.
	PgpKey *string `pulumi:"pgpKey"`
	// The IAM user's name.
	User string `pulumi:"user"`
}

// The set of arguments for constructing a UserLoginProfile resource.
type UserLoginProfileArgs struct {
	// The length of the generated password on resource creation. Only applies on resource creation. Drift detection is not possible with this argument. Default value is `20`.
	PasswordLength pulumix.Input[*int]
	// Whether the user should be forced to reset the generated password on resource creation. Only applies on resource creation.
	PasswordResetRequired pulumix.Input[*bool]
	// Either a base-64 encoded PGP public key, or a keybase username in the form `keybase:username`. Only applies on resource creation. Drift detection is not possible with this argument.
	PgpKey pulumix.Input[*string]
	// The IAM user's name.
	User pulumix.Input[string]
}

func (UserLoginProfileArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*userLoginProfileArgs)(nil)).Elem()
}

type UserLoginProfileOutput struct{ *pulumi.OutputState }

func (UserLoginProfileOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*UserLoginProfile)(nil)).Elem()
}

func (o UserLoginProfileOutput) ToUserLoginProfileOutput() UserLoginProfileOutput {
	return o
}

func (o UserLoginProfileOutput) ToUserLoginProfileOutputWithContext(ctx context.Context) UserLoginProfileOutput {
	return o
}

func (o UserLoginProfileOutput) ToOutput(ctx context.Context) pulumix.Output[UserLoginProfile] {
	return pulumix.Output[UserLoginProfile]{
		OutputState: o.OutputState,
	}
}

// The encrypted password, base64 encoded. Only available if password was handled on resource creation, not import.
func (o UserLoginProfileOutput) EncryptedPassword() pulumix.Output[string] {
	value := pulumix.Apply[UserLoginProfile](o, func(v UserLoginProfile) pulumix.Output[string] { return v.EncryptedPassword })
	return pulumix.Flatten[string, pulumix.Output[string]](value)
}

// The fingerprint of the PGP key used to encrypt the password. Only available if password was handled on this provider resource creation, not import.
func (o UserLoginProfileOutput) KeyFingerprint() pulumix.Output[string] {
	value := pulumix.Apply[UserLoginProfile](o, func(v UserLoginProfile) pulumix.Output[string] { return v.KeyFingerprint })
	return pulumix.Flatten[string, pulumix.Output[string]](value)
}

// The plain text password, only available when `pgpKey` is not provided.
func (o UserLoginProfileOutput) Password() pulumix.Output[string] {
	value := pulumix.Apply[UserLoginProfile](o, func(v UserLoginProfile) pulumix.Output[string] { return v.Password })
	return pulumix.Flatten[string, pulumix.Output[string]](value)
}

// The length of the generated password on resource creation. Only applies on resource creation. Drift detection is not possible with this argument. Default value is `20`.
func (o UserLoginProfileOutput) PasswordLength() pulumix.Output[*int] {
	value := pulumix.Apply[UserLoginProfile](o, func(v UserLoginProfile) pulumix.Output[*int] { return v.PasswordLength })
	return pulumix.Flatten[*int, pulumix.Output[*int]](value)
}

// Whether the user should be forced to reset the generated password on resource creation. Only applies on resource creation.
func (o UserLoginProfileOutput) PasswordResetRequired() pulumix.Output[bool] {
	value := pulumix.Apply[UserLoginProfile](o, func(v UserLoginProfile) pulumix.Output[bool] { return v.PasswordResetRequired })
	return pulumix.Flatten[bool, pulumix.Output[bool]](value)
}

// Either a base-64 encoded PGP public key, or a keybase username in the form `keybase:username`. Only applies on resource creation. Drift detection is not possible with this argument.
func (o UserLoginProfileOutput) PgpKey() pulumix.Output[*string] {
	value := pulumix.Apply[UserLoginProfile](o, func(v UserLoginProfile) pulumix.Output[*string] { return v.PgpKey })
	return pulumix.Flatten[*string, pulumix.Output[*string]](value)
}

// The IAM user's name.
func (o UserLoginProfileOutput) User() pulumix.Output[string] {
	value := pulumix.Apply[UserLoginProfile](o, func(v UserLoginProfile) pulumix.Output[string] { return v.User })
	return pulumix.Flatten[string, pulumix.Output[string]](value)
}

func init() {
	pulumi.RegisterOutputType(UserLoginProfileOutput{})
}
