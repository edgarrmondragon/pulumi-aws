// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package cfg

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-aws/sdk/v6/go/aws/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumix"
)

// Provides an AWS Config Remediation Configuration.
//
// > **Note:** Config Remediation Configuration requires an existing Config Rule to be present.
type RemediationConfiguration struct {
	pulumi.CustomResourceState

	// ARN of the Config Remediation Configuration.
	Arn pulumix.Output[string] `pulumi:"arn"`
	// Remediation is triggered automatically if `true`.
	Automatic pulumix.Output[*bool] `pulumi:"automatic"`
	// Name of the AWS Config rule.
	ConfigRuleName pulumix.Output[string] `pulumi:"configRuleName"`
	// Configuration block for execution controls. See below.
	ExecutionControls pulumix.GPtrOutput[RemediationConfigurationExecutionControls, RemediationConfigurationExecutionControlsOutput] `pulumi:"executionControls"`
	// Maximum number of failed attempts for auto-remediation. If you do not select a number, the default is 5.
	MaximumAutomaticAttempts pulumix.Output[*int] `pulumi:"maximumAutomaticAttempts"`
	// Can be specified multiple times for each parameter. Each parameter block supports arguments below.
	Parameters pulumix.GArrayOutput[RemediationConfigurationParameter, RemediationConfigurationParameterOutput] `pulumi:"parameters"`
	// Type of resource.
	ResourceType pulumix.Output[*string] `pulumi:"resourceType"`
	// Maximum time in seconds that AWS Config runs auto-remediation. If you do not select a number, the default is 60 seconds.
	RetryAttemptSeconds pulumix.Output[*int] `pulumi:"retryAttemptSeconds"`
	// Target ID is the name of the public document.
	TargetId pulumix.Output[string] `pulumi:"targetId"`
	// Type of the target. Target executes remediation. For example, SSM document.
	//
	// The following arguments are optional:
	TargetType pulumix.Output[string] `pulumi:"targetType"`
	// Version of the target. For example, version of the SSM document
	TargetVersion pulumix.Output[*string] `pulumi:"targetVersion"`
}

// NewRemediationConfiguration registers a new resource with the given unique name, arguments, and options.
func NewRemediationConfiguration(ctx *pulumi.Context,
	name string, args *RemediationConfigurationArgs, opts ...pulumi.ResourceOption) (*RemediationConfiguration, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.ConfigRuleName == nil {
		return nil, errors.New("invalid value for required argument 'ConfigRuleName'")
	}
	if args.TargetId == nil {
		return nil, errors.New("invalid value for required argument 'TargetId'")
	}
	if args.TargetType == nil {
		return nil, errors.New("invalid value for required argument 'TargetType'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource RemediationConfiguration
	err := ctx.RegisterResource("aws:cfg/remediationConfiguration:RemediationConfiguration", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetRemediationConfiguration gets an existing RemediationConfiguration resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetRemediationConfiguration(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *RemediationConfigurationState, opts ...pulumi.ResourceOption) (*RemediationConfiguration, error) {
	var resource RemediationConfiguration
	err := ctx.ReadResource("aws:cfg/remediationConfiguration:RemediationConfiguration", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering RemediationConfiguration resources.
type remediationConfigurationState struct {
	// ARN of the Config Remediation Configuration.
	Arn *string `pulumi:"arn"`
	// Remediation is triggered automatically if `true`.
	Automatic *bool `pulumi:"automatic"`
	// Name of the AWS Config rule.
	ConfigRuleName *string `pulumi:"configRuleName"`
	// Configuration block for execution controls. See below.
	ExecutionControls *RemediationConfigurationExecutionControls `pulumi:"executionControls"`
	// Maximum number of failed attempts for auto-remediation. If you do not select a number, the default is 5.
	MaximumAutomaticAttempts *int `pulumi:"maximumAutomaticAttempts"`
	// Can be specified multiple times for each parameter. Each parameter block supports arguments below.
	Parameters []RemediationConfigurationParameter `pulumi:"parameters"`
	// Type of resource.
	ResourceType *string `pulumi:"resourceType"`
	// Maximum time in seconds that AWS Config runs auto-remediation. If you do not select a number, the default is 60 seconds.
	RetryAttemptSeconds *int `pulumi:"retryAttemptSeconds"`
	// Target ID is the name of the public document.
	TargetId *string `pulumi:"targetId"`
	// Type of the target. Target executes remediation. For example, SSM document.
	//
	// The following arguments are optional:
	TargetType *string `pulumi:"targetType"`
	// Version of the target. For example, version of the SSM document
	TargetVersion *string `pulumi:"targetVersion"`
}

type RemediationConfigurationState struct {
	// ARN of the Config Remediation Configuration.
	Arn pulumix.Input[*string]
	// Remediation is triggered automatically if `true`.
	Automatic pulumix.Input[*bool]
	// Name of the AWS Config rule.
	ConfigRuleName pulumix.Input[*string]
	// Configuration block for execution controls. See below.
	ExecutionControls pulumix.Input[*RemediationConfigurationExecutionControlsArgs]
	// Maximum number of failed attempts for auto-remediation. If you do not select a number, the default is 5.
	MaximumAutomaticAttempts pulumix.Input[*int]
	// Can be specified multiple times for each parameter. Each parameter block supports arguments below.
	Parameters pulumix.Input[[]*RemediationConfigurationParameterArgs]
	// Type of resource.
	ResourceType pulumix.Input[*string]
	// Maximum time in seconds that AWS Config runs auto-remediation. If you do not select a number, the default is 60 seconds.
	RetryAttemptSeconds pulumix.Input[*int]
	// Target ID is the name of the public document.
	TargetId pulumix.Input[*string]
	// Type of the target. Target executes remediation. For example, SSM document.
	//
	// The following arguments are optional:
	TargetType pulumix.Input[*string]
	// Version of the target. For example, version of the SSM document
	TargetVersion pulumix.Input[*string]
}

func (RemediationConfigurationState) ElementType() reflect.Type {
	return reflect.TypeOf((*remediationConfigurationState)(nil)).Elem()
}

type remediationConfigurationArgs struct {
	// Remediation is triggered automatically if `true`.
	Automatic *bool `pulumi:"automatic"`
	// Name of the AWS Config rule.
	ConfigRuleName string `pulumi:"configRuleName"`
	// Configuration block for execution controls. See below.
	ExecutionControls *RemediationConfigurationExecutionControls `pulumi:"executionControls"`
	// Maximum number of failed attempts for auto-remediation. If you do not select a number, the default is 5.
	MaximumAutomaticAttempts *int `pulumi:"maximumAutomaticAttempts"`
	// Can be specified multiple times for each parameter. Each parameter block supports arguments below.
	Parameters []RemediationConfigurationParameter `pulumi:"parameters"`
	// Type of resource.
	ResourceType *string `pulumi:"resourceType"`
	// Maximum time in seconds that AWS Config runs auto-remediation. If you do not select a number, the default is 60 seconds.
	RetryAttemptSeconds *int `pulumi:"retryAttemptSeconds"`
	// Target ID is the name of the public document.
	TargetId string `pulumi:"targetId"`
	// Type of the target. Target executes remediation. For example, SSM document.
	//
	// The following arguments are optional:
	TargetType string `pulumi:"targetType"`
	// Version of the target. For example, version of the SSM document
	TargetVersion *string `pulumi:"targetVersion"`
}

// The set of arguments for constructing a RemediationConfiguration resource.
type RemediationConfigurationArgs struct {
	// Remediation is triggered automatically if `true`.
	Automatic pulumix.Input[*bool]
	// Name of the AWS Config rule.
	ConfigRuleName pulumix.Input[string]
	// Configuration block for execution controls. See below.
	ExecutionControls pulumix.Input[*RemediationConfigurationExecutionControlsArgs]
	// Maximum number of failed attempts for auto-remediation. If you do not select a number, the default is 5.
	MaximumAutomaticAttempts pulumix.Input[*int]
	// Can be specified multiple times for each parameter. Each parameter block supports arguments below.
	Parameters pulumix.Input[[]*RemediationConfigurationParameterArgs]
	// Type of resource.
	ResourceType pulumix.Input[*string]
	// Maximum time in seconds that AWS Config runs auto-remediation. If you do not select a number, the default is 60 seconds.
	RetryAttemptSeconds pulumix.Input[*int]
	// Target ID is the name of the public document.
	TargetId pulumix.Input[string]
	// Type of the target. Target executes remediation. For example, SSM document.
	//
	// The following arguments are optional:
	TargetType pulumix.Input[string]
	// Version of the target. For example, version of the SSM document
	TargetVersion pulumix.Input[*string]
}

func (RemediationConfigurationArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*remediationConfigurationArgs)(nil)).Elem()
}

type RemediationConfigurationOutput struct{ *pulumi.OutputState }

func (RemediationConfigurationOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*RemediationConfiguration)(nil)).Elem()
}

func (o RemediationConfigurationOutput) ToRemediationConfigurationOutput() RemediationConfigurationOutput {
	return o
}

func (o RemediationConfigurationOutput) ToRemediationConfigurationOutputWithContext(ctx context.Context) RemediationConfigurationOutput {
	return o
}

func (o RemediationConfigurationOutput) ToOutput(ctx context.Context) pulumix.Output[RemediationConfiguration] {
	return pulumix.Output[RemediationConfiguration]{
		OutputState: o.OutputState,
	}
}

// ARN of the Config Remediation Configuration.
func (o RemediationConfigurationOutput) Arn() pulumix.Output[string] {
	value := pulumix.Apply[RemediationConfiguration](o, func(v RemediationConfiguration) pulumix.Output[string] { return v.Arn })
	return pulumix.Flatten[string, pulumix.Output[string]](value)
}

// Remediation is triggered automatically if `true`.
func (o RemediationConfigurationOutput) Automatic() pulumix.Output[*bool] {
	value := pulumix.Apply[RemediationConfiguration](o, func(v RemediationConfiguration) pulumix.Output[*bool] { return v.Automatic })
	return pulumix.Flatten[*bool, pulumix.Output[*bool]](value)
}

// Name of the AWS Config rule.
func (o RemediationConfigurationOutput) ConfigRuleName() pulumix.Output[string] {
	value := pulumix.Apply[RemediationConfiguration](o, func(v RemediationConfiguration) pulumix.Output[string] { return v.ConfigRuleName })
	return pulumix.Flatten[string, pulumix.Output[string]](value)
}

// Configuration block for execution controls. See below.
func (o RemediationConfigurationOutput) ExecutionControls() pulumix.GPtrOutput[RemediationConfigurationExecutionControls, RemediationConfigurationExecutionControlsOutput] {
	value := pulumix.Apply[RemediationConfiguration](o, func(v RemediationConfiguration) pulumix.GPtrOutput[RemediationConfigurationExecutionControls, RemediationConfigurationExecutionControlsOutput] {
		return v.ExecutionControls
	})
	unwrapped := pulumix.Flatten[*RemediationConfigurationExecutionControls, pulumix.GPtrOutput[RemediationConfigurationExecutionControls, RemediationConfigurationExecutionControlsOutput]](value)
	return pulumix.GPtrOutput[RemediationConfigurationExecutionControls, RemediationConfigurationExecutionControlsOutput]{OutputState: unwrapped.OutputState}
}

// Maximum number of failed attempts for auto-remediation. If you do not select a number, the default is 5.
func (o RemediationConfigurationOutput) MaximumAutomaticAttempts() pulumix.Output[*int] {
	value := pulumix.Apply[RemediationConfiguration](o, func(v RemediationConfiguration) pulumix.Output[*int] { return v.MaximumAutomaticAttempts })
	return pulumix.Flatten[*int, pulumix.Output[*int]](value)
}

// Can be specified multiple times for each parameter. Each parameter block supports arguments below.
func (o RemediationConfigurationOutput) Parameters() pulumix.GArrayOutput[RemediationConfigurationParameter, RemediationConfigurationParameterOutput] {
	value := pulumix.Apply[RemediationConfiguration](o, func(v RemediationConfiguration) pulumix.GArrayOutput[RemediationConfigurationParameter, RemediationConfigurationParameterOutput] {
		return v.Parameters
	})
	unwrapped := pulumix.Flatten[[]RemediationConfigurationParameter, pulumix.GArrayOutput[RemediationConfigurationParameter, RemediationConfigurationParameterOutput]](value)
	return pulumix.GArrayOutput[RemediationConfigurationParameter, RemediationConfigurationParameterOutput]{OutputState: unwrapped.OutputState}
}

// Type of resource.
func (o RemediationConfigurationOutput) ResourceType() pulumix.Output[*string] {
	value := pulumix.Apply[RemediationConfiguration](o, func(v RemediationConfiguration) pulumix.Output[*string] { return v.ResourceType })
	return pulumix.Flatten[*string, pulumix.Output[*string]](value)
}

// Maximum time in seconds that AWS Config runs auto-remediation. If you do not select a number, the default is 60 seconds.
func (o RemediationConfigurationOutput) RetryAttemptSeconds() pulumix.Output[*int] {
	value := pulumix.Apply[RemediationConfiguration](o, func(v RemediationConfiguration) pulumix.Output[*int] { return v.RetryAttemptSeconds })
	return pulumix.Flatten[*int, pulumix.Output[*int]](value)
}

// Target ID is the name of the public document.
func (o RemediationConfigurationOutput) TargetId() pulumix.Output[string] {
	value := pulumix.Apply[RemediationConfiguration](o, func(v RemediationConfiguration) pulumix.Output[string] { return v.TargetId })
	return pulumix.Flatten[string, pulumix.Output[string]](value)
}

// Type of the target. Target executes remediation. For example, SSM document.
//
// The following arguments are optional:
func (o RemediationConfigurationOutput) TargetType() pulumix.Output[string] {
	value := pulumix.Apply[RemediationConfiguration](o, func(v RemediationConfiguration) pulumix.Output[string] { return v.TargetType })
	return pulumix.Flatten[string, pulumix.Output[string]](value)
}

// Version of the target. For example, version of the SSM document
func (o RemediationConfigurationOutput) TargetVersion() pulumix.Output[*string] {
	value := pulumix.Apply[RemediationConfiguration](o, func(v RemediationConfiguration) pulumix.Output[*string] { return v.TargetVersion })
	return pulumix.Flatten[*string, pulumix.Output[*string]](value)
}

func init() {
	pulumi.RegisterOutputType(RemediationConfigurationOutput{})
}
