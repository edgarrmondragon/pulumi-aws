// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package kms

import (
	"context"
	"reflect"

	"github.com/pulumi/pulumi-aws/sdk/v6/go/aws/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumix"
)

// Use this data source to get the public key about the specified KMS Key with flexible key id input. This can be useful to reference key alias without having to hard code the ARN as input.
func GetPublicKey(ctx *pulumi.Context, args *GetPublicKeyArgs, opts ...pulumi.InvokeOption) (*GetPublicKeyResult, error) {
	opts = internal.PkgInvokeDefaultOpts(opts)
	var rv GetPublicKeyResult
	err := ctx.Invoke("aws:kms/getPublicKey:getPublicKey", args, &rv, opts...)
	if err != nil {
		return nil, err
	}
	return &rv, nil
}

// A collection of arguments for invoking getPublicKey.
type GetPublicKeyArgs struct {
	// List of grant tokens
	GrantTokens []string `pulumi:"grantTokens"`
	// Key identifier which can be one of the following format:
	// * Key ID. E.g - `1234abcd-12ab-34cd-56ef-1234567890ab`
	// * Key ARN. E.g. - `arn:aws:kms:us-east-1:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
	// * Alias name. E.g. - `alias/my-key`
	// * Alias ARN - E.g. - `arn:aws:kms:us-east-1:111122223333:alias/my-key`
	KeyId string `pulumi:"keyId"`
}

// A collection of values returned by getPublicKey.
type GetPublicKeyResult struct {
	// Key ARN of the asymmetric CMK from which the public key was downloaded.
	Arn string `pulumi:"arn"`
	// Type of the public key that was downloaded.
	CustomerMasterKeySpec string `pulumi:"customerMasterKeySpec"`
	// Encryption algorithms that AWS KMS supports for this key. Only set when the `keyUsage` of the public key is `ENCRYPT_DECRYPT`.
	EncryptionAlgorithms []string `pulumi:"encryptionAlgorithms"`
	GrantTokens          []string `pulumi:"grantTokens"`
	// The provider-assigned unique ID for this managed resource.
	Id    string `pulumi:"id"`
	KeyId string `pulumi:"keyId"`
	// Permitted use of the public key. Valid values are `ENCRYPT_DECRYPT` or `SIGN_VERIFY`
	KeyUsage string `pulumi:"keyUsage"`
	// Exported public key. The value is a DER-encoded X.509 public key, also known as SubjectPublicKeyInfo (SPKI), as defined in [RFC 5280](https://tools.ietf.org/html/rfc5280). The value is Base64-encoded.
	PublicKey string `pulumi:"publicKey"`
	// Exported public key. The value is Privacy Enhanced Mail (PEM) encoded.
	PublicKeyPem string `pulumi:"publicKeyPem"`
	// Signing algorithms that AWS KMS supports for this key. Only set when the `keyUsage` of the public key is `SIGN_VERIFY`.
	SigningAlgorithms []string `pulumi:"signingAlgorithms"`
}

func GetPublicKeyOutput(ctx *pulumi.Context, args GetPublicKeyOutputArgs, opts ...pulumi.InvokeOption) GetPublicKeyResultOutput {
	outputResult := pulumix.ApplyErr[*GetPublicKeyArgs](args.ToOutput(), func(plainArgs *GetPublicKeyArgs) (*GetPublicKeyResult, error) {
		return GetPublicKey(ctx, plainArgs, opts...)
	})

	return pulumix.Cast[GetPublicKeyResultOutput, *GetPublicKeyResult](outputResult)
}

// A collection of arguments for invoking getPublicKey.
type GetPublicKeyOutputArgs struct {
	// List of grant tokens
	GrantTokens pulumix.Input[[]string] `pulumi:"grantTokens"`
	// Key identifier which can be one of the following format:
	// * Key ID. E.g - `1234abcd-12ab-34cd-56ef-1234567890ab`
	// * Key ARN. E.g. - `arn:aws:kms:us-east-1:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
	// * Alias name. E.g. - `alias/my-key`
	// * Alias ARN - E.g. - `arn:aws:kms:us-east-1:111122223333:alias/my-key`
	KeyId pulumix.Input[string] `pulumi:"keyId"`
}

func (args GetPublicKeyOutputArgs) ToOutput() pulumix.Output[*GetPublicKeyArgs] {
	allArgs := pulumix.All(
		args.GrantTokens.ToOutput(context.Background()).AsAny(),
		args.KeyId.ToOutput(context.Background()).AsAny())
	return pulumix.Apply[[]any](allArgs, func(resolvedArgs []interface{}) *GetPublicKeyArgs {
		return &GetPublicKeyArgs{
			GrantTokens: resolvedArgs[0].([]string),
			KeyId:       resolvedArgs[1].(string),
		}
	})
}

type GetPublicKeyResultOutput struct{ *pulumi.OutputState }

func (GetPublicKeyResultOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*GetPublicKeyResult)(nil)).Elem()
}

func (o GetPublicKeyResultOutput) ToOutput(context.Context) pulumix.Output[*GetPublicKeyResult] {
	return pulumix.Output[*GetPublicKeyResult]{
		OutputState: o.OutputState,
	}
}

func (o GetPublicKeyResultOutput) Arn() pulumix.Output[string] {
	return pulumix.Apply[*GetPublicKeyResult](o, func(v *GetPublicKeyResult) string { return v.Arn })
}

func (o GetPublicKeyResultOutput) CustomerMasterKeySpec() pulumix.Output[string] {
	return pulumix.Apply[*GetPublicKeyResult](o, func(v *GetPublicKeyResult) string { return v.CustomerMasterKeySpec })
}

func (o GetPublicKeyResultOutput) EncryptionAlgorithms() pulumix.ArrayOutput[string] {
	value := pulumix.Apply[*GetPublicKeyResult](o, func(v *GetPublicKeyResult) []string { return v.EncryptionAlgorithms })
	return pulumix.ArrayOutput[string]{
		OutputState: value.OutputState,
	}
}

func (o GetPublicKeyResultOutput) GrantTokens() pulumix.ArrayOutput[string] {
	value := pulumix.Apply[*GetPublicKeyResult](o, func(v *GetPublicKeyResult) []string { return v.GrantTokens })
	return pulumix.ArrayOutput[string]{
		OutputState: value.OutputState,
	}
}

func (o GetPublicKeyResultOutput) Id() pulumix.Output[string] {
	return pulumix.Apply[*GetPublicKeyResult](o, func(v *GetPublicKeyResult) string { return v.Id })
}

func (o GetPublicKeyResultOutput) KeyId() pulumix.Output[string] {
	return pulumix.Apply[*GetPublicKeyResult](o, func(v *GetPublicKeyResult) string { return v.KeyId })
}

func (o GetPublicKeyResultOutput) KeyUsage() pulumix.Output[string] {
	return pulumix.Apply[*GetPublicKeyResult](o, func(v *GetPublicKeyResult) string { return v.KeyUsage })
}

func (o GetPublicKeyResultOutput) PublicKey() pulumix.Output[string] {
	return pulumix.Apply[*GetPublicKeyResult](o, func(v *GetPublicKeyResult) string { return v.PublicKey })
}

func (o GetPublicKeyResultOutput) PublicKeyPem() pulumix.Output[string] {
	return pulumix.Apply[*GetPublicKeyResult](o, func(v *GetPublicKeyResult) string { return v.PublicKeyPem })
}

func (o GetPublicKeyResultOutput) SigningAlgorithms() pulumix.ArrayOutput[string] {
	value := pulumix.Apply[*GetPublicKeyResult](o, func(v *GetPublicKeyResult) []string { return v.SigningAlgorithms })
	return pulumix.ArrayOutput[string]{
		OutputState: value.OutputState,
	}
}
