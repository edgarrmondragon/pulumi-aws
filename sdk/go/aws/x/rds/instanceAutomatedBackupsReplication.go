// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package rds

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-aws/sdk/v6/go/aws/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumix"
)

// Manage cross-region replication of automated backups to a different AWS Region. Documentation for cross-region automated backup replication can be found at:
//
// * [Replicating automated backups to another AWS Region](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_ReplicateBackups.html)
//
// > **Note:** This resource has to be created in the destination region.
type InstanceAutomatedBackupsReplication struct {
	pulumi.CustomResourceState

	// The AWS KMS key identifier for encryption of the replicated automated backups. The KMS key ID is the Amazon Resource Name (ARN) for the KMS encryption key in the destination AWS Region, for example, `arn:aws:kms:us-east-1:123456789012:key/AKIAIOSFODNN7EXAMPLE`.
	KmsKeyId pulumix.Output[string] `pulumi:"kmsKeyId"`
	// A URL that contains a [Signature Version 4](https://docs.aws.amazon.com/general/latest/gr/signature-version-4.html) signed request for the [`StartDBInstanceAutomatedBackupsReplication`](https://docs.aws.amazon.com/AmazonRDS/latest/APIReference/API_StartDBInstanceAutomatedBackupsReplication.html) action to be called in the AWS Region of the source DB instance.
	PreSignedUrl pulumix.Output[*string] `pulumi:"preSignedUrl"`
	// The retention period for the replicated automated backups, defaults to `7`.
	RetentionPeriod pulumix.Output[*int] `pulumi:"retentionPeriod"`
	// The Amazon Resource Name (ARN) of the source DB instance for the replicated automated backups, for example, `arn:aws:rds:us-west-2:123456789012:db:mydatabase`.
	SourceDbInstanceArn pulumix.Output[string] `pulumi:"sourceDbInstanceArn"`
}

// NewInstanceAutomatedBackupsReplication registers a new resource with the given unique name, arguments, and options.
func NewInstanceAutomatedBackupsReplication(ctx *pulumi.Context,
	name string, args *InstanceAutomatedBackupsReplicationArgs, opts ...pulumi.ResourceOption) (*InstanceAutomatedBackupsReplication, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.SourceDbInstanceArn == nil {
		return nil, errors.New("invalid value for required argument 'SourceDbInstanceArn'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource InstanceAutomatedBackupsReplication
	err := ctx.RegisterResource("aws:rds/instanceAutomatedBackupsReplication:InstanceAutomatedBackupsReplication", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetInstanceAutomatedBackupsReplication gets an existing InstanceAutomatedBackupsReplication resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetInstanceAutomatedBackupsReplication(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *InstanceAutomatedBackupsReplicationState, opts ...pulumi.ResourceOption) (*InstanceAutomatedBackupsReplication, error) {
	var resource InstanceAutomatedBackupsReplication
	err := ctx.ReadResource("aws:rds/instanceAutomatedBackupsReplication:InstanceAutomatedBackupsReplication", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering InstanceAutomatedBackupsReplication resources.
type instanceAutomatedBackupsReplicationState struct {
	// The AWS KMS key identifier for encryption of the replicated automated backups. The KMS key ID is the Amazon Resource Name (ARN) for the KMS encryption key in the destination AWS Region, for example, `arn:aws:kms:us-east-1:123456789012:key/AKIAIOSFODNN7EXAMPLE`.
	KmsKeyId *string `pulumi:"kmsKeyId"`
	// A URL that contains a [Signature Version 4](https://docs.aws.amazon.com/general/latest/gr/signature-version-4.html) signed request for the [`StartDBInstanceAutomatedBackupsReplication`](https://docs.aws.amazon.com/AmazonRDS/latest/APIReference/API_StartDBInstanceAutomatedBackupsReplication.html) action to be called in the AWS Region of the source DB instance.
	PreSignedUrl *string `pulumi:"preSignedUrl"`
	// The retention period for the replicated automated backups, defaults to `7`.
	RetentionPeriod *int `pulumi:"retentionPeriod"`
	// The Amazon Resource Name (ARN) of the source DB instance for the replicated automated backups, for example, `arn:aws:rds:us-west-2:123456789012:db:mydatabase`.
	SourceDbInstanceArn *string `pulumi:"sourceDbInstanceArn"`
}

type InstanceAutomatedBackupsReplicationState struct {
	// The AWS KMS key identifier for encryption of the replicated automated backups. The KMS key ID is the Amazon Resource Name (ARN) for the KMS encryption key in the destination AWS Region, for example, `arn:aws:kms:us-east-1:123456789012:key/AKIAIOSFODNN7EXAMPLE`.
	KmsKeyId pulumix.Input[*string]
	// A URL that contains a [Signature Version 4](https://docs.aws.amazon.com/general/latest/gr/signature-version-4.html) signed request for the [`StartDBInstanceAutomatedBackupsReplication`](https://docs.aws.amazon.com/AmazonRDS/latest/APIReference/API_StartDBInstanceAutomatedBackupsReplication.html) action to be called in the AWS Region of the source DB instance.
	PreSignedUrl pulumix.Input[*string]
	// The retention period for the replicated automated backups, defaults to `7`.
	RetentionPeriod pulumix.Input[*int]
	// The Amazon Resource Name (ARN) of the source DB instance for the replicated automated backups, for example, `arn:aws:rds:us-west-2:123456789012:db:mydatabase`.
	SourceDbInstanceArn pulumix.Input[*string]
}

func (InstanceAutomatedBackupsReplicationState) ElementType() reflect.Type {
	return reflect.TypeOf((*instanceAutomatedBackupsReplicationState)(nil)).Elem()
}

type instanceAutomatedBackupsReplicationArgs struct {
	// The AWS KMS key identifier for encryption of the replicated automated backups. The KMS key ID is the Amazon Resource Name (ARN) for the KMS encryption key in the destination AWS Region, for example, `arn:aws:kms:us-east-1:123456789012:key/AKIAIOSFODNN7EXAMPLE`.
	KmsKeyId *string `pulumi:"kmsKeyId"`
	// A URL that contains a [Signature Version 4](https://docs.aws.amazon.com/general/latest/gr/signature-version-4.html) signed request for the [`StartDBInstanceAutomatedBackupsReplication`](https://docs.aws.amazon.com/AmazonRDS/latest/APIReference/API_StartDBInstanceAutomatedBackupsReplication.html) action to be called in the AWS Region of the source DB instance.
	PreSignedUrl *string `pulumi:"preSignedUrl"`
	// The retention period for the replicated automated backups, defaults to `7`.
	RetentionPeriod *int `pulumi:"retentionPeriod"`
	// The Amazon Resource Name (ARN) of the source DB instance for the replicated automated backups, for example, `arn:aws:rds:us-west-2:123456789012:db:mydatabase`.
	SourceDbInstanceArn string `pulumi:"sourceDbInstanceArn"`
}

// The set of arguments for constructing a InstanceAutomatedBackupsReplication resource.
type InstanceAutomatedBackupsReplicationArgs struct {
	// The AWS KMS key identifier for encryption of the replicated automated backups. The KMS key ID is the Amazon Resource Name (ARN) for the KMS encryption key in the destination AWS Region, for example, `arn:aws:kms:us-east-1:123456789012:key/AKIAIOSFODNN7EXAMPLE`.
	KmsKeyId pulumix.Input[*string]
	// A URL that contains a [Signature Version 4](https://docs.aws.amazon.com/general/latest/gr/signature-version-4.html) signed request for the [`StartDBInstanceAutomatedBackupsReplication`](https://docs.aws.amazon.com/AmazonRDS/latest/APIReference/API_StartDBInstanceAutomatedBackupsReplication.html) action to be called in the AWS Region of the source DB instance.
	PreSignedUrl pulumix.Input[*string]
	// The retention period for the replicated automated backups, defaults to `7`.
	RetentionPeriod pulumix.Input[*int]
	// The Amazon Resource Name (ARN) of the source DB instance for the replicated automated backups, for example, `arn:aws:rds:us-west-2:123456789012:db:mydatabase`.
	SourceDbInstanceArn pulumix.Input[string]
}

func (InstanceAutomatedBackupsReplicationArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*instanceAutomatedBackupsReplicationArgs)(nil)).Elem()
}

type InstanceAutomatedBackupsReplicationOutput struct{ *pulumi.OutputState }

func (InstanceAutomatedBackupsReplicationOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*InstanceAutomatedBackupsReplication)(nil)).Elem()
}

func (o InstanceAutomatedBackupsReplicationOutput) ToInstanceAutomatedBackupsReplicationOutput() InstanceAutomatedBackupsReplicationOutput {
	return o
}

func (o InstanceAutomatedBackupsReplicationOutput) ToInstanceAutomatedBackupsReplicationOutputWithContext(ctx context.Context) InstanceAutomatedBackupsReplicationOutput {
	return o
}

func (o InstanceAutomatedBackupsReplicationOutput) ToOutput(ctx context.Context) pulumix.Output[InstanceAutomatedBackupsReplication] {
	return pulumix.Output[InstanceAutomatedBackupsReplication]{
		OutputState: o.OutputState,
	}
}

// The AWS KMS key identifier for encryption of the replicated automated backups. The KMS key ID is the Amazon Resource Name (ARN) for the KMS encryption key in the destination AWS Region, for example, `arn:aws:kms:us-east-1:123456789012:key/AKIAIOSFODNN7EXAMPLE`.
func (o InstanceAutomatedBackupsReplicationOutput) KmsKeyId() pulumix.Output[string] {
	value := pulumix.Apply[InstanceAutomatedBackupsReplication](o, func(v InstanceAutomatedBackupsReplication) pulumix.Output[string] { return v.KmsKeyId })
	return pulumix.Flatten[string, pulumix.Output[string]](value)
}

// A URL that contains a [Signature Version 4](https://docs.aws.amazon.com/general/latest/gr/signature-version-4.html) signed request for the [`StartDBInstanceAutomatedBackupsReplication`](https://docs.aws.amazon.com/AmazonRDS/latest/APIReference/API_StartDBInstanceAutomatedBackupsReplication.html) action to be called in the AWS Region of the source DB instance.
func (o InstanceAutomatedBackupsReplicationOutput) PreSignedUrl() pulumix.Output[*string] {
	value := pulumix.Apply[InstanceAutomatedBackupsReplication](o, func(v InstanceAutomatedBackupsReplication) pulumix.Output[*string] { return v.PreSignedUrl })
	return pulumix.Flatten[*string, pulumix.Output[*string]](value)
}

// The retention period for the replicated automated backups, defaults to `7`.
func (o InstanceAutomatedBackupsReplicationOutput) RetentionPeriod() pulumix.Output[*int] {
	value := pulumix.Apply[InstanceAutomatedBackupsReplication](o, func(v InstanceAutomatedBackupsReplication) pulumix.Output[*int] { return v.RetentionPeriod })
	return pulumix.Flatten[*int, pulumix.Output[*int]](value)
}

// The Amazon Resource Name (ARN) of the source DB instance for the replicated automated backups, for example, `arn:aws:rds:us-west-2:123456789012:db:mydatabase`.
func (o InstanceAutomatedBackupsReplicationOutput) SourceDbInstanceArn() pulumix.Output[string] {
	value := pulumix.Apply[InstanceAutomatedBackupsReplication](o, func(v InstanceAutomatedBackupsReplication) pulumix.Output[string] { return v.SourceDbInstanceArn })
	return pulumix.Flatten[string, pulumix.Output[string]](value)
}

func init() {
	pulumi.RegisterOutputType(InstanceAutomatedBackupsReplicationOutput{})
}
